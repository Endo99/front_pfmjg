{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet HomeAgendamentoComponent = class HomeAgendamentoComponent {\n  constructor(router, route, renderer, toastr, pacienteService, el, dataService) {\n    this.router = router;\n    this.route = route;\n    this.renderer = renderer;\n    this.toastr = toastr;\n    this.pacienteService = pacienteService;\n    this.el = el;\n    this.dataService = dataService;\n    this.nomePaciente = '';\n    this.dataConsulta = new Date();\n    this.horaConsulta = new Date();\n    this.tipoConsulta = '';\n    this.pacientes = [];\n    this.agendamentos = [];\n    this.consultas = [];\n    this.exibirPopupExclusao = false;\n    this.pacienteSelecionado = null;\n    this.sucessMessage = \"\";\n    this.exibirMensagem = false;\n    this.paciente = {\n      idPaciente: 0,\n      cpf: '',\n      nomePaciente: '',\n      dataNascimentoPaciente: new Date(),\n      idadePaciente: 0,\n      estado: '',\n      cidade: '',\n      telefone: ''\n    };\n    this.consulta = {\n      idConsulta: 0,\n      paciente: 0,\n      agendamento: 0,\n      tipoConsulta: '',\n      formaPagamento: ''\n    };\n    this.agenda = {\n      idAgendamento: 0,\n      idConsulta: 0,\n      idPaciente: 0,\n      dataInicio: new Date(),\n      descricao: '',\n      horaFinal: new Date(),\n      horarioInicio: new Date(),\n      lembrete: 0\n    };\n    this.listMenu = [{\n      legenda: \"Home\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-house-door\" viewBox=\"0 0 16 16\"><path d=\"M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146ZM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5Z\"/></svg>',\n      alt: \"Figura de uma casa\"\n    }, {\n      legenda: \"Desempenho\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-graph-up\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M0 0h1v15h15v1H0V0Zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61 4.15-5.073a.5.5 0 0 1 .704-.07Z\"/></svg>',\n      alt: \"Figura de gráfico\"\n    }, {\n      legenda: \"Relatório\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-clipboard2-data\" viewBox=\"0 0 16 16\"><path d=\"M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h3Z\"/><path d=\"M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-12Z\"/><path d=\"M10 7a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V7Zm-6 4a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1Zm4-3a1 1 0 0 0-1 1v3a1 1 0 1 0 2 0V9a1 1 0 0 0-1-1Z\"/></svg>',\n      alt: \"Figura de calendário\"\n    }, {\n      legenda: \"Metas\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-check2-square\" viewBox=\"0 0 16 16\"><path d=\"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5H3z\"/><path d=\"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z\"/></svg>',\n      alt: \"Figura de uma prancha com três linhas verticais em crescente\"\n    }, {\n      legenda: \"Gastos\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-currency-exchange\" viewBox=\"0 0 16 16\"><path d=\"M0 5a5.002 5.002 0 0 0 4.027 4.905 6.46 6.46 0 0 1 .544-2.073C3.695 7.536 3.132 6.864 3 5.91h-.5v-.426h.466V5.05c0-.046 0-.093.004-.135H2.5v-.427h.511C3.236 3.24 4.213 2.5 5.681 2.5c.316 0 .59.031.819.085v.733a3.46 3.46 0 0 0-.815-.082c-.919 0-1.538.466-1.734 1.252h1.917v.427h-1.98c-.003.046-.003.097-.003.147v.422h1.983v.427H3.93c.118.602.468 1.03 1.005 1.229a6.5 6.5 0 0 1 4.97-3.113A5.002 5.002 0 0 0 0 5zm16 5.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0zm-7.75 1.322c.069.835.746 1.485 1.964 1.562V14h.54v-.62c1.259-.086 1.996-.74 1.996-1.69 0-.865-.563-1.31-1.57-1.54l-.426-.1V8.374c.54.06.884.347.966.745h.948c-.07-.804-.779-1.433-1.914-1.502V7h-.54v.629c-1.076.103-1.808.732-1.808 1.622 0 .787.544 1.288 1.45 1.493l.358.085v1.78c-.554-.08-.92-.376-1.003-.787H8.25zm1.96-1.895c-.532-.12-.82-.364-.82-.732 0-.41.311-.719.824-.809v1.54h-.005zm.622 1.044c.645.145.943.38.943.796 0 .474-.37.8-1.02.86v-1.674l.077.018z\"/></svg>',\n      alt: \"Figura de duas moedas\"\n    }, {\n      legenda: \"Pacientes\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-person-square\" viewBox=\"0 0 16 16\"> <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\"/> <path d=\"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z\"/></svg>',\n      alt: \"Figura de um boneco de silhueta de pessoa dentro de um quadrado\"\n    }, {\n      legenda: \"Agendar\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-house-door\" viewBox=\"0 0 16 16\"><path d=\"M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146ZM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5Z\"/></svg>',\n      alt: \"Figura de calendário\"\n    }];\n    this.pacientesComDadosRelacionados = this.pacientes.map(paciente => {\n      const agendamento = this.agendamentos.find(a => a.idPaciente === paciente.idPaciente);\n      const consulta = this.consultas.find(c => c.idPaciente === paciente.idPaciente);\n      return {\n        ...paciente,\n        ...agendamento,\n        ...consulta\n      };\n    });\n  }\n  ngOnInit() {\n    this.listarPacientes();\n    if (this.pacienteSelecionado) {\n      this.renderer.addClass(document.body, 'paciente-selecionado');\n    }\n    this.dataService.getPacientes().subscribe(data => {\n      this.pacientes = data;\n    });\n    this.dataService.getAgendamentos().subscribe(data => {\n      this.agendamentos = data;\n    });\n    this.dataService.getConsultas().subscribe(data => {\n      this.consultas = data;\n    });\n    this.associaDadosPacientesAgendamentoConsulta();\n  }\n  associaDadosPacientesAgendamentoConsulta() {\n    this.pacientesComDadosRelacionados = this.pacientes.map(paciente => {\n      const agendamento = this.agendamentos.find(a => a.idPaciente === paciente.idPaciente);\n      const consulta = this.consultas.find(c => c.idPaciente === paciente.idPaciente);\n      return {\n        ...paciente,\n        ...agendamento,\n        ...consulta\n      };\n    });\n  }\n  listarPacientes() {\n    this.pacienteService.getPaciente().subscribe(data => {\n      this.pacientes = data;\n      this.sortPacientesByNome();\n    });\n  }\n  sortPacientesByNome() {\n    this.pacientes = this.pacientes.filter(paciente => paciente.nomePaciente !== undefined);\n    this.pacientes.sort((a, b) => {\n      const nomeA = a.nomePaciente.toLowerCase();\n      const nomeB = b.nomePaciente.toLowerCase();\n      if (nomeA < nomeB) {\n        return -1;\n      }\n      if (nomeA > nomeB) {\n        return 1;\n      }\n      return 0;\n    });\n  }\n  voltarPagina() {\n    this.router.navigate(['pacientes']);\n  }\n  excluirPaciente() {\n    if (this.pacienteSelecionado && this.pacienteSelecionado.idPaciente) {\n      const idPaciente = this.pacienteSelecionado.idPaciente;\n      this.pacienteService.excluirPaciente(idPaciente).subscribe(() => {\n        this.sucessMessage = \"Paciente Excluído!\";\n        this.exibirMensagem = true;\n        setTimeout(() => {\n          this.toastr.success(this.sucessMessage, 'Sucesso');\n          this.router.navigate(['pacientes']);\n        }, 2000);\n        this.listarPacientes();\n        this.pacienteSelecionado = null;\n        this.exibirPopupExclusao = false;\n      });\n    } else {\n      console.log(\"Não encontrado ou erro\");\n    }\n  }\n};\n__decorate([Input()], HomeAgendamentoComponent.prototype, \"nomePaciente\", void 0);\n__decorate([Input()], HomeAgendamentoComponent.prototype, \"dataConsulta\", void 0);\n__decorate([Input()], HomeAgendamentoComponent.prototype, \"horaConsulta\", void 0);\n__decorate([Input()], HomeAgendamentoComponent.prototype, \"tipoConsulta\", void 0);\nHomeAgendamentoComponent = __decorate([Component({\n  selector: 'app-home-agendamento',\n  templateUrl: './home-agendamento.component.html',\n  styleUrls: ['./home-agendamento.component.scss']\n})], HomeAgendamentoComponent);\nexport { HomeAgendamentoComponent };","map":{"version":3,"names":["Component","Input","HomeAgendamentoComponent","constructor","router","route","renderer","toastr","pacienteService","el","dataService","nomePaciente","dataConsulta","Date","horaConsulta","tipoConsulta","pacientes","agendamentos","consultas","exibirPopupExclusao","pacienteSelecionado","sucessMessage","exibirMensagem","paciente","idPaciente","cpf","dataNascimentoPaciente","idadePaciente","estado","cidade","telefone","consulta","idConsulta","agendamento","formaPagamento","agenda","idAgendamento","dataInicio","descricao","horaFinal","horarioInicio","lembrete","listMenu","legenda","iconSvg","alt","pacientesComDadosRelacionados","map","find","a","c","ngOnInit","listarPacientes","addClass","document","body","getPacientes","subscribe","data","getAgendamentos","getConsultas","associaDadosPacientesAgendamentoConsulta","getPaciente","sortPacientesByNome","filter","undefined","sort","b","nomeA","toLowerCase","nomeB","voltarPagina","navigate","excluirPaciente","setTimeout","success","console","log","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\welli\\front_pfmjg\\pfmjg\\src\\app\\module\\pages\\agendamento\\home-agendamento\\home-agendamento.component.ts"],"sourcesContent":["import { Time } from '@angular/common';\nimport { Component, Input, ViewChild, ElementRef, Renderer2 } from '@angular/core';\nimport { ɵDomRendererFactory2 } from '@angular/platform-browser';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DayPilotCalendarComponent } from '@daypilot/daypilot-lite-angular';\nimport { ToastrService } from 'ngx-toastr';\nimport { Agendamento } from 'src/app/models/agendamento/agendamento';\nimport { Consulta } from 'src/app/models/consulta/consulta';\nimport { Paciente } from 'src/app/models/paciente';\nimport { DataService } from 'src/app/services/data.service';\nimport { ServicePaciente } from 'src/app/services/service-paciente.service';\n\n@Component({\n  selector: 'app-home-agendamento',\n  templateUrl: './home-agendamento.component.html',\n  styleUrls: ['./home-agendamento.component.scss']\n})\nexport class HomeAgendamentoComponent{\n\n  @Input() nomePaciente: String = ''\n\n  @Input() dataConsulta: Date = new Date();\n\n  @Input() horaConsulta: Date = new Date();\n\n  @Input() tipoConsulta: String = '';\n\n  pacientes: Paciente[] = [];\n  agendamentos: any[] = [];\n  consultas: any[] = [];\n\n  exibirPopupExclusao = false;\n  pacienteSelecionado: Paciente | null = null;\n\n  sucessMessage: string = \"\";\n\n  exibirMensagem: boolean = false;\n\n  selectedPaciente: any;\n\n  paciente: Paciente = {\n    idPaciente: 0,\n    cpf: '',\n    nomePaciente: '',\n    dataNascimentoPaciente: new Date(),\n    idadePaciente: 0,\n    estado: '',\n    cidade: '',\n    telefone: ''\n  }\n\n  consulta: Consulta = {\n    idConsulta: 0,\n    paciente: 0,\n    agendamento: 0,\n    tipoConsulta: '',\n    formaPagamento: '',\n  }\n\n  agenda: Agendamento = {\n    \n    idAgendamento: 0,\n    idConsulta: 0,\n    idPaciente: 0,\n    dataInicio: new Date,\n    descricao: '',\n    horaFinal: new Date,\n    horarioInicio: new Date,\n    lembrete: 0,\n\n  }\n\n\n  readonly listMenu = [\n    { \n      legenda: \"Home\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-house-door\" viewBox=\"0 0 16 16\"><path d=\"M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146ZM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5Z\"/></svg>',\n      alt: \"Figura de uma casa\"\n    },\n    {\n      legenda: \"Desempenho\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-graph-up\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M0 0h1v15h15v1H0V0Zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61 4.15-5.073a.5.5 0 0 1 .704-.07Z\"/></svg>',\n      alt: \"Figura de gráfico\"\n    },\n    {\n      legenda: \"Relatório\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-clipboard2-data\" viewBox=\"0 0 16 16\"><path d=\"M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h3Z\"/><path d=\"M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-12Z\"/><path d=\"M10 7a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V7Zm-6 4a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1Zm4-3a1 1 0 0 0-1 1v3a1 1 0 1 0 2 0V9a1 1 0 0 0-1-1Z\"/></svg>',\n      alt: \"Figura de calendário\"\n    },\n    {\n      legenda: \"Metas\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-check2-square\" viewBox=\"0 0 16 16\"><path d=\"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5H3z\"/><path d=\"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z\"/></svg>',\n      alt: \"Figura de uma prancha com três linhas verticais em crescente\"\n    },\n    {\n      legenda: \"Gastos\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-currency-exchange\" viewBox=\"0 0 16 16\"><path d=\"M0 5a5.002 5.002 0 0 0 4.027 4.905 6.46 6.46 0 0 1 .544-2.073C3.695 7.536 3.132 6.864 3 5.91h-.5v-.426h.466V5.05c0-.046 0-.093.004-.135H2.5v-.427h.511C3.236 3.24 4.213 2.5 5.681 2.5c.316 0 .59.031.819.085v.733a3.46 3.46 0 0 0-.815-.082c-.919 0-1.538.466-1.734 1.252h1.917v.427h-1.98c-.003.046-.003.097-.003.147v.422h1.983v.427H3.93c.118.602.468 1.03 1.005 1.229a6.5 6.5 0 0 1 4.97-3.113A5.002 5.002 0 0 0 0 5zm16 5.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0zm-7.75 1.322c.069.835.746 1.485 1.964 1.562V14h.54v-.62c1.259-.086 1.996-.74 1.996-1.69 0-.865-.563-1.31-1.57-1.54l-.426-.1V8.374c.54.06.884.347.966.745h.948c-.07-.804-.779-1.433-1.914-1.502V7h-.54v.629c-1.076.103-1.808.732-1.808 1.622 0 .787.544 1.288 1.45 1.493l.358.085v1.78c-.554-.08-.92-.376-1.003-.787H8.25zm1.96-1.895c-.532-.12-.82-.364-.82-.732 0-.41.311-.719.824-.809v1.54h-.005zm.622 1.044c.645.145.943.38.943.796 0 .474-.37.8-1.02.86v-1.674l.077.018z\"/></svg>',\n      alt: \"Figura de duas moedas\"\n    },\n    {\n      legenda: \"Pacientes\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-person-square\" viewBox=\"0 0 16 16\"> <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\"/> <path d=\"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z\"/></svg>',\n      alt: \"Figura de um boneco de silhueta de pessoa dentro de um quadrado\"\n    },\n    {\n      legenda: \"Agendar\",\n      iconSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-house-door\" viewBox=\"0 0 16 16\"><path d=\"M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146ZM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5Z\"/></svg>',\n      alt: \"Figura de calendário\"\n    },\n  ];\n\n  constructor(private router: Router, private route: ActivatedRoute,\n    private renderer: Renderer2, private toastr: ToastrService, private pacienteService: ServicePaciente, private el: ElementRef\n    , private dataService: DataService) {\n      \n     }\n\n     ngOnInit(): void {\n    \n      this.listarPacientes();\n      if (this.pacienteSelecionado) {\n        this.renderer.addClass(document.body, 'paciente-selecionado');\n      }\n\n      this.dataService.getPacientes().subscribe(data => {\n        this.pacientes = data;\n      });\n  \n      this.dataService.getAgendamentos().subscribe(data => {\n        this.agendamentos = data;\n      });\n  \n      this.dataService.getConsultas().subscribe(data => {\n        this.consultas = data;\n      });\n      \n      this.associaDadosPacientesAgendamentoConsulta();\n    }\n    \n    pacientesComDadosRelacionados: any[] = this.pacientes.map(paciente => {\n      const agendamento = this.agendamentos.find(a => a.idPaciente === paciente.idPaciente);\n      const consulta = this.consultas.find(c => c.idPaciente === paciente.idPaciente);\n    \n      return {\n        ...paciente,\n        ...agendamento,\n        ...consulta,\n      };\n    });\n\n    associaDadosPacientesAgendamentoConsulta() {\n      this.pacientesComDadosRelacionados = this.pacientes.map((paciente) => {\n        const agendamento = this.agendamentos.find((a) => a.idPaciente === paciente.idPaciente);\n        const consulta = this.consultas.find((c) => c.idPaciente === paciente.idPaciente);\n    \n        return {\n          ...paciente,\n          ...agendamento,\n          ...consulta,\n        };\n      });\n    }\n\n    listarPacientes(): void {\n        this.pacienteService.getPaciente().subscribe(data => {\n        this.pacientes = data;\n        this.sortPacientesByNome();\n      })\n    }\n\n    sortPacientesByNome() {\n      this.pacientes = this.pacientes.filter(paciente => paciente.nomePaciente !== undefined);\n      this.pacientes.sort((a, b) => {\n      const nomeA = a.nomePaciente!.toLowerCase();\n      const nomeB = b.nomePaciente!.toLowerCase();\n      if (nomeA < nomeB) {\n        return -1;\n      }\n      if (nomeA > nomeB) {\n        return 1;\n      }\n      return 0;\n    });\n    }\n    \n    voltarPagina(): void {\n      this.router.navigate(['pacientes'])\n    }\n     excluirPaciente() {\n\n\n      if (this.pacienteSelecionado && this.pacienteSelecionado.idPaciente) {\n  \n        const idPaciente = this.pacienteSelecionado.idPaciente;\n        this.pacienteService.excluirPaciente(idPaciente). subscribe( () => {\n          \n          \n          \n          this.sucessMessage = \"Paciente Excluído!\";\n          this.exibirMensagem = true;\n          setTimeout(() => {\n            this.toastr.success(this.sucessMessage, 'Sucesso');\n            this.router.navigate(['pacientes']);\n          }, 2000)\n          this.listarPacientes();\n  \n          this.pacienteSelecionado = null;\n          this.exibirPopupExclusao = false;\n        });\n      \n      }\n      else  {\n          console.log(\"Não encontrado ou erro\");\n      }\n    }\n  \n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}